// MIT, LudvÃ­k Prokopec
!function(n,e){function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}"object"===("undefined"==typeof exports?"undefined":t(exports))&&"undefined"!=typeof module?module.exports=e(t):"function"==typeof define&&define.amd?define(function(){return e(t)}):(n=n||self).Kiq=e(t)}(this,function(u){"use strict";function g(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!e||t.length!==e);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return t}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return r(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function v(){return(v=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t,r=arguments[e];for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n}).apply(this,arguments)}function e(e,n){var t,r=Object.keys(e);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(e),n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)),r}function c(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach(function(n){var e,t;e=r,n=o[t=n],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(o,n))})}return r}function a(n,e,t){e=new(2<arguments.length&&void 0!==t?t:Error)(e);return e.name=n,e}function N(n){return Array.isArray(n)}function l(n){return!(!f(n)||!n.prototype.isKiqComponent)}function f(n){return"function"==typeof n}function p(n){return"object"===u(n)&&null!==n}function o(n,e,t){return p(e)&&v(n.props,e),p(t)&&v(n.state,t),n}function n(n){return this.props=n,this.state={},this._i={_r:null,_v:null},this}function y(n){var e=new n.type(n.props);return e._i._v=e.Element(e.props,e.state),e.type=n.type,e}function h(e){e.onComponentWillUnMount(e._i._r),e.setState=function(){e.setState=function(){};var n=e.constructor.name;throw a("setState(...)","Remove all asynchronnous functions that causes setState(...) of ".concat(n," in onComponentWillUnMount, else it causes memory leak"))}}function m(n,e,t){if(!n)return t;var r=g(n,2),n=r[0],r=r[1];return n?e(n,r):t}function O(n,e,t){if(!n.shouldComponentUpdate(e,t))return(n=o(n,e,t)).onComponentCancelUpdate(),!1;var r=n.getSnapshotBeforeUpdate()||null;o(n,e,t),n.onComponentWillUpdate(r);t=n.Element(n.props,n.state);return[S(n._i._v,t),r]}function D(e,n,t,r){var o,a=[];for(o in t)o in r&&function(){var n=t[o],i=r[o],u=e[n]._r;a.push(function(n){var e,t,r,o,e=(e=u,t=n,Array.prototype.indexOf.call(t.childNodes,e));e!==i&&(r=u,((o=i-e)<0?function(n){for(var e=0;o<e&&r.previousSibling;)n.insertBefore(r,r.previousSibling),e--}:0<o?function(n){for(var e=0;e<o&&r.nextSibling;)n.insertBefore(r,r.nextSibling.nextSibling),e++}:void 0)(n))})}();return a}function d(n){var t=document.createElement(n.type),e=n.props,r={};Object.keys(e).filter(M).forEach(function(n){return r[n]=e[n],b(n)?t.addEventListener(s(n),e[n]):p(e[n])?v(t[n],e[n]):t[n]=e[n]});var o=e.children,i=[];if(o)for(var u=function(n){var e=C(o[n]);N(e)?function(e,t){for(var r=0;r<e.length;r++)!function(){var n=e[r];_(n,t,function(){return t.appendChild(n._r)})}()}(e,t):_(e,t,function(){return t.appendChild(e._r)}),i.push(e)},a=0;a<o.length;a++)u(a);var l=n._key;return{_v:{type:n.type,props:c({children:i},r)},_r:t,_key:l,_ref:n._ref}}function _(n,e,t){var r;void 0!==n&&(p(r=n._v)&&l(r.type)?(n=r._i,r.onComponentWillMount(n._r,e),t(),r.onComponentMount(n._r,e)):t())}function C(n){if(null!=n){if(!p(n))return{_r:document.createTextNode(n),_v:n};if(N(n)){for(var e=[],t=0;t<n.length;t++)e.push(C(n[t]));return e}if(l(n.type)){var r=y(n),o=r._i,i=C(o._v);return v(o,i),r.setState=function(n){return function(r,n){var e;if(p(n))e=n;else{if(!f(n))throw a("setState(...)","expecting 1 parameter as Function or Object, you give ".concat(u(n)));e=n.bind(r)(r.props,r.state)}if(Object.keys(e).length){n=document.activeElement;return m(O(r,null,e),function(n,e){var t=r._i,n=n(t._r);v(t,{_v:n._v,_r:n._r}),r.onComponentUpdate(e)},null),n.focus(),r}throw a("setState(...)","setState(...) must be Object or Function that returns Object, if Object is empty or doesn't return nothing, update can be redundant")}(r,n)},r.onComponentRender(i._r),{_v:r,_r:i._r,_key:n._key}}i=d(n);return i._ref&&i._ref(i._r),i}}function s(n){return n.replace("on","")}function b(n){return 0===n.indexOf("on")}function M(n){return"children"!==n}function S(e,t){if(void 0===t)return function(n){!function n(e){if(p(e))if(l(e.type))h(e),n(e._i._v);else for(var t=N(e)?e:e.props.children,r=0;r<t.length;r++)n(t[r]._v)}(e),n.remove()};var n=p(e),r=p(t);if(!n||!r)return function(n,t,e,r){if(e||r)return function(n){var e=C(t);return _(e,n.parentNode,function(){n.replaceWith(e._r)}),e};return n!==t?function(n){return{_v:n.nodeValue=t,_r:n}}:null}(e,t,n,r);n=l(e.type),r=l(t.type);if(n||r)return function(o,i,n,e){if(n&&e){if(o.type===i.type){var t=function(n,e){return n.componentWillGetProps(e)||null}(o,i.props);return m(O(o,i.props,t),function(t,r){return function(n){var e=t(n);return v(o._i,{_v:e._v,_r:e._r}),o.onComponentUpdate(r),{_v:o,_r:n,_key:i._key}}},null)}var r=y(i),u=r._i,a=o._i,l=S(a._v,r._i._v);return h(o),function(n){r.onComponentWillMount(n,n.parentNode);n=l?l(n):a;v(u,{_v:n._v,_r:n._r});n=u._r;return r.onComponentMount(n,n.parentNode),{_v:r,_r:n,_key:i._key}}}if(n&&!e){var c=o._i,f=S(c._v,i);return h(o),f?function(n){return f(n)}:function(n){return{_v:c._v,_r:n,_key:i._key}}}var p=y(i),d=p._i,s=S(o,d._v);return function(n){p.onComponentWillMount(n,n.parentNode);n=s?s(n):{_v:o,_r:n};v(d,{_v:n._v,_r:n._r});n=d._r;return p.onComponentMount(n,n.parentNode),{_v:p,_r:n,_key:i._key}}}(e,t,n,r);if(e.type!==t.type)return function(n){var e=C(t);return _(e,n.parentNode,function(){return n.replaceWith(e._r)}),e};var o=function(t,r){var o=[],i={};{var e;Object.keys(r).filter(M).forEach(function(e){var n=!1;b(e)?e in t&&t[e]===r[e]||(o.push(function(n){n.addEventListener(s(e),r[e])}),n=!0):p(r[e])?(o.push(function(n){v(n[e],r[e])}),n=!0):r[e]===t[e]&&e in t||(o.push(function(n){n[e]=r[e]}),n=!0),i[e]=(n?r:t)[e]}),t.children.length+r.children.length!==0&&(e=function i(l,c){var f=[];var p=[];var d=[];var n=j(l),e=g(n,3),s=e[0],t=e[1],r=e[2];var n=j(c),e=g(n,3),v=e[0],n=e[1],e=e[2];var u=[];r&&e&&(u=D(l,0,s,v));var o=Math.max(n.length,t.length);var a=function(e){var t,r,o,n=l[e];N(n)?(t=i(n,c[e]))?d.push(function(n){f[e]=t(n)}):f[e]=n:void 0===n?(r=C(c[e]),f[e]=r,d.push(function(n){_(r,n,function(){return n.appendChild(r._r)})})):(o=S(n._v,c[e]))?(n.patch=function(n){var n=o(n);void 0!==n&&(f[e]=n)},p.push(e)):f[e]=n};for(var y=0;y<o;y++)a(y);var h=function(n){var e,t,r,o,i,u=v[n],a=c[u];n in s?(e=s[n],t=l[e],o=n,(r=S(t._v,a))?(n=function(n){var n=r(n);void 0!==n&&(f[u]=n)},t.patch=n,p.push(e)):f[u]=t,delete s[o]):(i=C(a),f[u]=i,d[u]=function(n){_(i,n,function(){return n.insertBefore(i._r,n.childNodes[u])})})};for(var m in v)h(m);for(var O in s){var b=s[O],M=l[b];M.patch=S(M._v,void 0),p.push(b)}if(d.length+p.length+u.length===0)return null;return function(n){for(var e,t=0;t<p.length;t++){var r=l[p[t]];r.patch(r._r)}for(e in d)d[e](n);for(var o=0;o<u.length;o++)u[o](n);return f}}(t.children,r.children))?o.push(function(n){i.children=e(n)}):i.children=t.children}return Object.keys(t).filter(M).forEach(function(e){b(e)?e in r&&t[e]===r[e]||o.push(function(n){n.removeEventListener(s(e),t[e])}):e in r||o.push(function(n){n[e]=null})}),o.length?function(n){for(var e=0;e<o.length;e++)o[e](n);return i}:null}(e.props,t.props);return o?function(n){return e.props=o(n),{_v:e,_r:n,_key:t._key}}:null}function j(n){for(var e={},t=[],r=!1,o=0;o<n.length;o++){var i=n[o],i=void 0===i||void 0===i._key?null:i._key;null!==i?(r=!0,e[i]=o):t.push(o)}return[e,t,r]}function i(e,t,r){window.requestAnimationFrame(function(){if(!t||t.nodeType!==Node.ELEMENT_NODE)throw a("render(...)","container must be valid Element that is already rendered on page");var n=C(e);r(n)})}return n.prototype.Element=function(){throw Error("You have to specify Element method in your Component, Element must return virtual element")},n.prototype.setState=function(){throw a("setState(...)","can be called only if component is rendered, will be mounted or is mounted")},n.prototype.onComponentRender=n.prototype.onComponentWillUpdate=n.prototype.onComponentUpdate=n.prototype.onComponentWillMount=n.prototype.onComponentMount=n.prototype.onComponentCancelUpdate=n.prototype.getSnapshotBeforeUpdate=n.prototype.componentWillGetProps=n.prototype.onComponentWillUnMount=function(){},n.prototype.shouldComponentUpdate=function(){return!0},n.prototype.isKiqComponent=!0,{Component:n,render:function(n,e,t){i(n,e,function(n){_(n,e,function(){return e.appendChild(n._r)}),t&&t(n)})},createElement:function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,t=null,r=null;"_key"in(e=e||{})&&(t=e._key.toString(),delete e._key),"_ref"in e&&(r=e._ref,delete e._ref);for(var o=arguments.length,i=new Array(2<o?o-2:0),u=2;u<o;u++)i[u-2]=arguments[u];return!i.length&&l(n)||(e=c({children:i},e)),{type:n,props:e,_key:t,_ref:r}},replace:function(n,e,t){i(n,e,function(n){_(n,e,function(){return e.replaceWith(n._r)}),t&&t(n)})}}});